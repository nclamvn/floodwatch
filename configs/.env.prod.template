# FloodWatch Production Environment Variables
# Domain: nclam.site
# Generated: 2025-11-10
#
# IMPORTANT:
# 1. Run ./infra/scripts/generate_secrets.sh first
# 2. Copy to /opt/floodwatch/.env.prod
# 3. Fill in the values below
# 4. Keep this file SECRET - never commit to git

# ===========================================
# DATABASE (Generated - Do NOT change)
# ===========================================
POSTGRES_USER=floodwatch_prod
POSTGRES_PASSWORD=<GENERATED_BY_SCRIPT>
POSTGRES_DB=floodwatch_prod
DATABASE_URL=postgresql://floodwatch_prod:<GENERATED_PASSWORD>@db:5432/floodwatch_prod

# ===========================================
# ADMIN TOKEN (Generated - SAVE THIS!)
# ===========================================
ADMIN_TOKEN=<GENERATED_BY_SCRIPT>
# Save this token securely - needed for /ops endpoints

# ===========================================
# API CONFIGURATION (CHANGE THIS)
# ===========================================
NEXT_PUBLIC_API_URL=https://nclam.site
# Must match your domain for frontend to call API

# ===========================================
# MAPBOX (Required)
# ===========================================
NEXT_PUBLIC_MAPBOX_TOKEN=pk.eyJ1IjoibmNsYW12biIsImEiOiJjbWhjNmNvYTkwcG5hMmxuMWMwNHJqZ3l3In0.jGIEWNBpZg7dTLEygPyhlQ
# Your existing token - already filled

# ===========================================
# CLOUDINARY (Optional - for image uploads)
# ===========================================
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=
NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET=
# Leave empty if not using image uploads
# Get free account at: https://cloudinary.com/users/register/free

# ===========================================
# TELEGRAM BOT (Optional - for notifications)
# ===========================================
TELEGRAM_BOT_TOKEN=
# Leave empty if not using Telegram notifications
# Get token from: https://t.me/BotFather

# ===========================================
# ENVIRONMENT
# ===========================================
ENVIRONMENT=production
NODE_ENV=production

# ===========================================
# SERVER CONFIGURATION
# ===========================================
# These are defaults - usually no need to change
UVICORN_HOST=0.0.0.0
UVICORN_PORT=8000
PORT=3000

# ===========================================
# NOTES
# ===========================================
# After filling this file:
# 1. Verify no syntax errors: cat .env.prod
# 2. Deploy: ./infra/scripts/deploy_production.sh
# 3. Test: curl https://nclam.site/health
# 4. Monitor: docker compose -f docker-compose.prod.yml logs -f api
