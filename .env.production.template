# ==========================================
# FLOODWATCH PRODUCTION ENVIRONMENT CONFIG
# ==========================================
# Copy this file to .env.production and fill in your values
# IMPORTANT: Never commit .env.production to git!

# ==========================================
# üî¥ CRITICAL - MUST CHANGE BEFORE DEPLOY
# ==========================================

# Admin Authentication
# Generate a strong random token (32+ characters)
# Example: openssl rand -hex 32
ADMIN_TOKEN=CHANGE_THIS_TO_STRONG_RANDOM_TOKEN_32_CHARS_MIN

# Database Configuration
# Use strong password, NOT "postgres"
# Example: openssl rand -base64 32
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_THIS_TO_STRONG_PASSWORD
POSTGRES_DB=floodwatch_prod
DATABASE_URL=postgresql+psycopg://postgres:CHANGE_PASSWORD@db:5432/floodwatch_prod

# ==========================================
# üü° IMPORTANT - Service API Keys
# ==========================================

# Telegram Bot (for notifications)
# Get from: https://t.me/BotFather
# REGENERATE if old token was exposed
TELEGRAM_BOT_TOKEN=YOUR_TELEGRAM_BOT_TOKEN_HERE

# MapTiler (for map tiles)
# Get from: https://www.maptiler.com/cloud/
# REGENERATE if old key was exposed
NEXT_PUBLIC_MAPTILER_KEY=YOUR_MAPTILER_KEY_HERE

# Mapbox (optional, for Mapbox style)
# Get from: https://www.mapbox.com/
NEXT_PUBLIC_MAPBOX_TOKEN=YOUR_MAPBOX_TOKEN_HERE

# Cloudinary (for image uploads, optional)
# Get from: https://cloudinary.com/
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=your_cloudname
NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET=your_preset

# ==========================================
# üü¢ APPLICATION CONFIGURATION
# ==========================================

# Environment
ENVIRONMENT=production
NODE_ENV=production

# API Configuration
NEXT_PUBLIC_API_URL=https://your-domain.com/api

# CORS Origins (comma-separated)
# Example: https://floodwatch.vn,https://www.floodwatch.vn
CORS_ORIGINS=https://your-domain.com

# Map Provider (mapbox, goong, or maptiler)
NEXT_PUBLIC_MAP_PROVIDER=maptiler

# Goong API (if using Goong provider)
NEXT_PUBLIC_GOONG_API_KEY=

# ==========================================
# üìä OPTIONAL - External Services
# ==========================================

# Error Tracking (Sentry, optional)
# NEXT_PUBLIC_SENTRY_DSN=

# Analytics (Google Analytics, optional)
# NEXT_PUBLIC_GA_MEASUREMENT_ID=

# ==========================================
# üîß ADVANCED - Usually don't need to change
# ==========================================

# Web Port (internal, nginx handles external)
WEB_PORT=3000

# API Port (internal, nginx handles external)
API_PORT=8000

# Database Port (internal)
DB_PORT=5432

# ==========================================
# üìù DEPLOYMENT CHECKLIST
# ==========================================
# Before deploying to production:
#
# 1. [ ] Copy this file to .env.production
# 2. [ ] Replace ALL "CHANGE_THIS" values
# 3. [ ] Generate strong ADMIN_TOKEN (min 32 chars)
# 4. [ ] Generate strong DB password
# 5. [ ] Regenerate all exposed API keys
# 6. [ ] Set CORS_ORIGINS to your domain
# 7. [ ] Set NEXT_PUBLIC_API_URL to your domain
# 8. [ ] Verify .env.production is in .gitignore
# 9. [ ] Test with: docker compose -f docker-compose.prod.yml up
# 10. [ ] Run database migrations
# 11. [ ] Configure nginx SSL certificates
# 12. [ ] Set up DNS records
# 13. [ ] Test all critical features
# 14. [ ] Monitor logs for errors
#
# ==========================================
